# Backend runtime configuration (copy to .env at repo root)

# Cache
VALKEY_URL=valkey://localhost:6379/0
VALKEY_CACHE_TTL_SECONDS=30
VALKEY_CACHE_TTL_NOT_FOUND_SECONDS=15

# Per-endpoint TTLs
MVG_DEPARTURES_CACHE_TTL_SECONDS=30
MVG_DEPARTURES_CACHE_STALE_TTL_SECONDS=300
MVG_STATION_SEARCH_CACHE_TTL_SECONDS=60
MVG_STATION_SEARCH_CACHE_STALE_TTL_SECONDS=600
MVG_STATION_LIST_CACHE_TTL_SECONDS=86400
MVG_STATION_LIST_CACHE_STALE_TTL_SECONDS=172800
MVG_ROUTE_CACHE_TTL_SECONDS=120
MVG_ROUTE_CACHE_STALE_TTL_SECONDS=900

# Single-flight and circuit breaker
CACHE_SINGLEFLIGHT_LOCK_TTL_SECONDS=5
CACHE_SINGLEFLIGHT_LOCK_WAIT_SECONDS=5.0
CACHE_SINGLEFLIGHT_RETRY_DELAY_SECONDS=0.05
CACHE_CIRCUIT_BREAKER_TIMEOUT_SECONDS=2.0

# CORS
# Comma-separated list, no '*'
CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:5173
# CORS_ALLOW_ORIGIN_REGEX=

# Database
DATABASE_URL=postgresql+asyncpg://bahnvision:bahnvision@localhost:5432/bahnvision
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=5
DATABASE_ECHO=false

